<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cube3d</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="index.css">

   

    
    
</head>


<body>
 
 <div class="ligne container">
  
   
   <div class="row">
    
    <div class="container">
      <div class="parent">
        <div class="face front">1</div>
        <div class="face back">2</div>
        <div class="face right">3</div>
           
        <div class="face left">4</div>
        <div class="face top">5</div>
        <div class="face bottom">6</div>
        
         <div class="container1">
              <div class="parent1">
                <div class="face1 front1">0.1</div>
                <div class="face1 back1">0.2</div>
                <div class="face1 right1">0.3</div>
                
                <div class="face1 left1">0.4</div>
                <div class="face1 top1">0.5</div>
                <div class="face1 bottom1">0.6</div>
              </div>
            </div>
      </div>
    </div>
    
   </div> 
    
    <div class="row">
       <button class="btn-primary" onclick="turnLeft()">Left</button>
       <button class="btn-primary" onclick="turnTop()">Up</button>
       <button class="btn-primary" onclick="turnRight()">Right</button>
       <button class="btn-primary" onclick="turnDown()">Down</button>
    </div>
    
    <div class="row">
       <button class="btn-primary" onclick="openCube()">Open</button>
       <button class="btn-primary" onclick="closeCube()">Close</button>
    </div>
    

</div>

    
    <script>
            var rotateY = 0, rotateX = 0;
            var rotate1Y = 0, rotate1X = 0;
            var faces = document.getElementsByClassName('face');
            var facesNumb = faces.length;
            var isOpen = false;
        
            document.onkeydown = function (e) {
                if (e.keyCode === 37) {rotateY -= 90;rotate1Y += 1800}
                else if (e.keyCode === 38) {rotateX += 90;rotate1X -= 180}
                else if (e.keyCode === 39) {rotateY += 90;rotate1Y -= 180}
                else if (e.keyCode === 40) {rotateX -= 90;rotate1X += 180}

                document.querySelector('.parent').style.transform = 
              'rotateY(' + rotateY + 'deg)'+
              'rotateX(' + rotateX + 'deg)';
//                document.querySelector('.parent1').style.transform = 
//              'transform: translateX(65px) translateY(60px) rotateY(' + rotate1Y + 'deg)'+
//              'rotateX(' + rotate1X + 'deg)';
            }
        
        
        function turnLeft(){
            console.log("Left");
            rotateY += 90;rotate1Y += 180;
            document.querySelector('.parent').style.transform = 
                                'rotateY(' + rotateY + 'deg)'+
                                'rotateX(' + rotateX + 'deg)';
            document.querySelector('.parent1').style.transform = 
              'transform: translateX(65px) translateY(60px) rotateY(' + rotate1Y + 'deg)'+
              'rotateX(' + rotate1X + 'deg)';
        }
        function turnRight(){
            console.log("right");
            rotateY -= 90;rotate1Y += 180;
            document.querySelector('.parent').style.transform = 
                                'rotateY(' + rotateY + 'deg)'+
                                'rotateX(' + rotateX + 'deg)';
            document.querySelector('.parent1').style.transform = 
              'rotateY(' + rotateY + 'deg)'+
              'rotateX(' + rotateX + 'deg)';
        }
        function turnTop(){
            console.log("top");
            rotateX -= 90; rotate1X += 180;    
            document.querySelector('.parent').style.transform = 
                                'rotateY(' + rotateY + 'deg)'+
                                'rotateX(' + rotateX + 'deg)';
            document.querySelector('.parent1').style.transform = 
              'rotateY(' + rotateY + 'deg)'+
              'rotateX(' + rotateX + 'deg)';
        }
        function turnDown(){
            console.log("down");
            rotateX += 90;rotate1X -= 180;
            document.querySelector('.parent').style.transform = 
                                'rotateY(' + rotateY + 'deg)'+
                                'rotateX(' + rotateX + 'deg)';
            document.querySelector('.parent1').style.transform = 
              'rotateY(' + rotateY + 'deg)'+
              'rotateX(' + rotateX + 'deg)';
        }
        function openCube(){ 
            
            console.log('openCube');
            
            
            console.log(isOpen);
            console.log(faces);
            if(isOpen===false){
                isOpen=true;
                document.querySelector('.container1').style.opacity = 1;
                for(var i = 0; i < facesNumb ; i+=1){

                    if(faces.item(i).classList.contains('front')){
                      /* faces.item(i).style.transform = 'translateZ(150px)';*/
                        faces.item(i).classList.add('animation__front');
                        faces.item(i).classList.remove('animation1__front');
                    }
                    else if(faces.item(i).classList.contains('back')){
    //                   faces.item(i).style.transform = 'rotateY(180deg) translateZ(150px)';
                        faces.item(i).classList.add('animation__back');
                        faces.item(i).classList.remove('animation1__back');
                    }
                    else if(faces.item(i).classList.contains('right')){
    //                   faces.item(i).style.transform = 'rotateY(90deg) translateZ(150px)';
                        faces.item(i).classList.add('animation__right');
                        faces.item(i).classList.remove('animation1__right');
                    }
                    else if(faces.item(i).classList.contains('left')){
    //                   faces.item(i).style.transform = 'rotateY(-90deg) translateZ(150px)';
                        faces.item(i).classList.add('animation__left');
                        faces.item(i).classList.remove('animation1__left');
                    }
                    else if(faces.item(i).classList.contains('top')){
    //                   faces.item(i).style.transform = 'rotateX(90deg) translateZ(150px)';
                        faces.item(i).classList.add('animation__top');
                        faces.item(i).classList.remove('animation1__top');
                    }
                    else if(faces.item(i).classList.contains('bottom')){
    //                   faces.item(i).style.transform = 'rotateX(-90deg) translateZ(150px)';
                        faces.item(i).classList.add('animation__bottom');
                        faces.item(i).classList.remove('animation1__bottom');
                    }
                }
            }
            return;    
        }
        
        function closeCube(){ 
            
            console.log('closeCube');
          console.log(isOpen);

            console.log(faces);
            if(isOpen===true){
                isOpen=false;
                                document.querySelector('.container1').style.opacity = 1;

                for(var i = 0; i < facesNumb ; i+=1){

                    if(faces.item(i).classList.contains('front')){
//                       faces.item(i).style.webkitAnimationDirection = 'reverse';
                       faces.item(i).classList.toggle("animation1__front");
                        
//                        faces.item(i).classList.toggle('animation__front');
                    }
                    else if(faces.item(i).classList.contains('back')){
    //                   faces.item(i).style.transform = 'rotateY(180deg) translateZ(150px)';
                        faces.item(i).classList.toggle('animation1__back');
                    }
                    else if(faces.item(i).classList.contains('right')){
    //                   faces.item(i).style.transform = 'rotateY(90deg) translateZ(150px)';
                        faces.item(i).classList.toggle('animation1__right');
                    }
                    else if(faces.item(i).classList.contains('left')){
    //                   faces.item(i).style.transform = 'rotateY(-90deg) translateZ(150px)';
                        faces.item(i).classList.toggle('animation1__left');
                    }
                    else if(faces.item(i).classList.contains('top')){
    //                   faces.item(i).style.transform = 'rotateX(90deg) translateZ(150px)';
                        faces.item(i).classList.toggle('animation1__top');
                    }
                    else if(faces.item(i).classList.contains('bottom')){
    //                   faces.item(i).style.transform = 'rotateX(-90deg) translateZ(150px)';
                        faces.item(i).classList.toggle('animation1__bottom');
                    }
                }
            }
            return;
        }
        
        
        
        document.querySelector('.parent').style.transform = 
              'rotateY(' + rotateY + 'deg)'+
              'rotateX(' + rotateX + 'deg)';
    </script>
</body>
</html>


